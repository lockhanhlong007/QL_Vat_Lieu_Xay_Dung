@model List<ProductCategoryViewModel>
<div class="mm-toggle-wrap">
    <div class="mm-toggle"><i class="fa fa-align-justify"></i> </div>
    <span class="mm-label">All Categories</span>
</div>
<div class="col-md-3 col-sm-3 mega-container hidden-xs">
    <div class="navleft-container">
        <div class="mega-menu-title">
            <h3><span>All Categories</span></h3>
        </div>

        <!-- Shop by category -->
        <div class="mega-menu-category">
            <ul class="nav">
                @foreach (var item in Model.Where(x => x.ParentId == null))
                {
                    if (Model.Any(x => x.ParentId == item.Id))
                    {
                        <li>
                            <a href="#">
                                <img width="30" class="first-img" src="@item.Image" alt="@item.Name">
                                @item.Name
                            </a>
                            <div class="wrap-popup column1">
                                <div class="popup">
                                    <ul class="nav">
                                        @foreach (var subItem in Model.Where(x => x.ParentId == item.Id))
                                        {
                                            <li>
                                                <a href="/@subItem.SeoAlias-c.@(subItem.Id).html">
                                                    <img width="30" class="first-img" src="@subItem.Image" alt="@subItem.Name">
                                                    <span>@subItem.Name</span>
                                                </a>
                                            </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </li>

                    }
                    else
                    {
                        <li class="nosub">
                            <a href="/@item.SeoAlias-c.@(item.Id).html">
                                <img width="30" class="first-img" src="@item.Image" alt="@item.Name">
                                @item.Name
                            </a>
                        </li>
                    }

                }
            </ul>
        </div>
    </div>
</div>